# SeleniumCookie
当前项目演示使用Selenium获取网站Cookie的功能。不介绍Selenium的自动化测试入门知识。

## 采集场景
采集类程序最大的难度在于登陆过程自动化，有些站点的登陆过程异常复杂（加密，JS高防策略，很难破解的验证码）。遇到这类网站采集，无法用简单的HttpClient很难过登陆这一关。
通常的思路是先采用浏览器组件‘半人工’的方式获取Cookie，然后注入到HttpClient对象进行多线程高速采集。
 
## 采集方案
**1. 无需登陆的站点：**
这类网站采集最容易了，只需要HttpClient类即可，没有技术难点。

**2. 要求登陆，登陆过程很简单**
这类网站也相对容易，最佳方案也只需要HttpClient类，顺着网站的登陆过程提交登陆表单即可。
这里的‘简单的标准’大致满足以下要求：
 - 登陆表单提交前加密，加密过程容易破解，且加密的js很容易通过第三方库执行；
 - 验证码容易自动识别，采用OCR类库‘Tesseract’来解决的；
 - 没有加入高防机制的网站（高防涉及到js检查是浏览器操作，而非机器人）

**3. 要求登陆，登陆过程复杂**
这类复杂的网站，登陆关很难通过，难点可能就是上文提到任意一点。这种网站采集的思路一般是通过浏览器‘半人工’完成登陆。然后获取到浏览器的cookie，将cookie注入新的HttpClient对象，然后使用HttpClient对象轻松实现多线程高效率的采集任务了。（浏览器‘半人工’有2种思路：）
 - WebBrowser控件：优点在于程序包无依赖，所有Windows系统都有IE。缺点在于有些站点安全级别高，采用了HttpOnly的Cookie模式，JS和C#代码都无法通过WebBrowser拿到Cookie。
 - Selenium：自动化测试组件，且可以拿到所有的Cookie，解决了WebBrowser的缺点。由于这个框架完全可以胜任自动化测试场景，因此也不会存在什么网页自动操作的困难。因此推荐采用这种方案。
